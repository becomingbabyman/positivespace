root = global ? window
angular = root.angular

ps = angular.module "ps", ['ui', 'ui.bootstrap', 'ngCookies', 'psDirectives', 'psServices']

ps.config ['$routeProvider', '$locationProvider', ($routeProvider, $locationProvider) ->
	#$locationProvider.hashPrefix('');
	$locationProvider.html5Mode true

	$routeProvider
	# Pages
	# .when "/",
	#	controller: "PagesCtrl"
	#	templateUrl: "/assets/pages/home.html"
	.when "/about",
		controller: "PagesCtrl"
		templateUrl: "<%= asset_path 'pages/about.html' %>"
	.when "/terms",
		controller: "PagesCtrl"
		templateUrl: "/assets/pages/terms.html"
	.when "/privacy",
		controller: "PagesCtrl"
		templateUrl: "/assets/pages/privacy.html"

	# Messages
	.when "/inbox",
		controller: "MessagesInboxCtrl"
		templateUrl: "/assets/messages/inbox.html"

	# Users
	.when "/login",
		controller: "UsersLoginCtrl"
		templateUrl: "/assets/users/login.html"
	.when "/register",
		controller: "UsersRegisterCtrl"
		templateUrl: "/assets/users/register.html"
	.when "/settings",
		controller: "UsersSettingsCtrl"
		templateUrl: "/assets/users/settings.html"
	.when "/users/password/edit",
		controller: "UserPasswordEditCtrl"
		templateUrl: '/assets/users/password_edit.html'
	.when "/:user_id",
		controller: "UsersShowCtrl"
		templateUrl: "/assets/users/show.html"
	.otherwise redirectTo: "/"
]

root.ps = ps

